<!-- Título y filtros -->
<div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutAlign.xs="start center"
    fxLayoutAlign.sm="start center" fxLayoutAlign.gt-sm="center center" fxLayoutGap="10px" class="top-header">

    <div fxFlex fxFlex.gt-sm="30%">
        <h3><b>Buscador de colecciones</b></h3>
    </div>
    <!-- FILTROS TODO: -->
    <div fxFlex fxFlex.gt-sm="70%">
        <!-- <app-filter></app-filter> -->
        <mat-form-field>
            <mat-label>Buscar colección</mat-label>
            <input matInput type="text" [(ngModel)]="searchText" (change)="filterSearch()">
            <mat-icon matPrefix>search</mat-icon>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Categoría</mat-label>
            <mat-select>
                <mat-option *ngFor="let option of options" [value]="option.value" (onSelectionChange)="filterSearch()" >
                    {{option.viewValue}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <div fxFlex></div>
</div>

<!-- Grid de colecciones -->
<div class="content" fxLayout="row wrap" fxLayoutGap="16px grid" *ngIf="collections">
    <div [fxFlex]="(100/gridColumns) + '%'" fxFlex.xs="100%" fxFlex.sm="33%" *ngFor="let collection of collections; let i=index">
        <mat-card>
            <mat-card-header>
                <mat-card-title>Colección {{collection.name}}</mat-card-title>
            </mat-card-header>
                <div class="img-contain">
                    <img mat-card-image src={{collection.image}} alt={{collection.name}}/>
                </div>
            <mat-card-content>
                <ul>
                    <li>Tema: {{collection.theme}}</li>
                    <li>Formato: {{collection.format}}</li>
                    <li>Año: {{collection.year}}</li>
                </ul>
            </mat-card-content>
            <mat-card-actions>
                <button mat-button [routerLink]="['/collectiondetails',collection._id]" routerLinkActive="router-link-active">DETALLES</button>
                <!-- TODO: -->
                <button mat-button (click)="openDialog(i)">AÑADIR A LA BIBLIOTECA</button>
            </mat-card-actions>
        </mat-card>
    </div>
</div>
<div [hidden]="collections" *ngIf="!errmsg">
    <mat-spinner></mat-spinner><h4>Loading...</h4>
</div>
<div class="collection-not-found" [hidden]="!errmsg">
    <h2>{{errmsg}}</h2>
</div>